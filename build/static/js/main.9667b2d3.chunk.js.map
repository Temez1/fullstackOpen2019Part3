{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/Persons.js","App.js","index.js"],"names":["Filter","filterState","filterHandler","value","onChange","PersonForm","formHandler","nameState","nameHandler","numberState","numberHandler","onSubmit","type","Person","person","deletePersonHandler","name","number","onClick","id","Persons","persons","showAllState","personsToShow","filter","toUpperCase","includes","map","key","Notification","messageState","styleState","style","notificationStyles","padding","margin","fontSize","borderTopStyle","borderBottomStyle","borderWidth","borderColor","console","log","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","showAll","setShowAll","notificationMessage","setNotificationMessage","notificationStyle","setNotificationStyle","useEffect","personService","initialPersons","resetFormFields","newNotification","message","timeoutInMilliseconds","setMessageTimeout","messageHandler","setTimeout","event","target","preventDefault","personObject","find","undefined","window","confirm","updatedPerson","catch","error","returnedPerson","concat","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9667b2d3.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filterState, filterHandler}) => (\r\n    <div> filter shown with <input value={filterState} onChange={filterHandler}/> </div>\r\n )\r\n\r\n export default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({formHandler, nameState, nameHandler, numberState, numberHandler}) => (\r\n   <div>\r\n      <form onSubmit={formHandler}>\r\n         <div> name: <input value={nameState} onChange={nameHandler}/> </div>\r\n         <div> number: <input value={numberState} onChange={numberHandler}/> </div>\r\n         <div> <button type=\"submit\">add </button> </div>\r\n      </form>\r\n   </div>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({person, deletePersonHandler}) => {\r\n    return(\r\n    <div>\r\n        {person.name} {person.number}\r\n        <button onClick={()=>deletePersonHandler(person.id)}> Delete </button>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nimport Person from './Person'\r\n\r\n\r\nconst Persons = ({persons, showAllState, filterState, deletePersonHandler}) => {\r\n\r\n   const personsToShow = showAllState \r\n   ? persons \r\n   : persons\r\n      .filter(person => person.name.toUpperCase()\r\n               .includes(\r\n                  filterState.toUpperCase()))\r\n   \r\n   const rows = () => personsToShow.map(person =>\r\n      <Person \r\n         key={person.name}\r\n         person={person}\r\n         deletePersonHandler={deletePersonHandler}\r\n      />\r\n      )\r\n\r\n   return(\r\n      <div>\r\n         {rows()}\r\n      </div>\r\n   )\r\n }\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({messageState, styleState='default'}) => {\r\n\r\n    if (messageState === null){\r\n        return null\r\n    }\r\n\r\n    const notificationStyleSuccess = {\r\n        padding: 10,\r\n        margin: 10,\r\n        fontSize: 30,\r\n        borderTopStyle: 'solid',\r\n        borderBottomStyle: 'solid',\r\n        borderWidth: 2,\r\n        borderColor: 'green'\r\n    }\r\n\r\n    const notificationStyleFail = {\r\n        padding: 10,\r\n        margin: 10,\r\n        fontSize: 30,\r\n        borderTopStyle: 'solid',\r\n        borderBottomStyle: 'solid',\r\n        borderWidth: 2,\r\n        borderColor: 'red'\r\n    }\r\n\r\n    const notificationStyleDefault = {\r\n        padding: 10,\r\n        margin: 10,\r\n        fontSize: 30,\r\n        borderTopStyle: 'solid',\r\n        borderBottomStyle: 'solid',\r\n        borderWidth: 2,\r\n        borderColor: 'black'\r\n    }\r\n    \r\n    const notificationStyles = {\r\n        notificationStyleSuccess,\r\n        notificationStyleFail,\r\n        notificationStyleDefault\r\n    }\r\n\r\n    const notificationStyle = (style) => {\r\n        if (style === 'success'){\r\n            return notificationStyles.notificationStyleSuccess\r\n        }\r\n\r\n        else if (style === 'fail'){\r\n            return notificationStyles.notificationStyleFail\r\n        }\r\n\r\n        else if (style === 'default'){\r\n            return notificationStyles.notificationStyleDefault\r\n        }\r\n\r\n        else {\r\n            console.log(\"You didn't pass valid style, using default style\")\r\n            return notificationStyles.notificationStyleDefault\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div style={notificationStyle(styleState)}>\r\n            {messageState}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons/'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseUrl}${id}`)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, deletePerson, update}","import React, { useState, useEffect } from 'react'\r\n\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\n\r\nimport personService from './services/Persons'\r\n\r\n\r\nconst App = () => {\r\n   const [persons, setPersons] = useState([]) \r\n   const [newName, setNewName ] = useState('')\r\n   const [newNumber, setNewNumber] = useState('')\r\n   const [newFilter, setNewFilter] = useState('')\r\n   const [showAll, setShowAll] = useState(true)\r\n   const [notificationMessage, setNotificationMessage] = useState(null)\r\n   const [notificationStyle, setNotificationStyle] = useState('default')\r\n\r\n   useEffect(() => {\r\n      personService\r\n         .getAll()\r\n         .then(initialPersons => {\r\n            setPersons(initialPersons)\r\n         })\r\n   }, [])\r\n\r\n\r\n   const handleAddPerson = (event) => {\r\n\r\n      event.preventDefault()\r\n\r\n      const personObject = {\r\n         name: newName,\r\n         number: newNumber\r\n      }\r\n\r\n      const person = persons.find(person => person.name === newName)\r\n\r\n      if (person !== undefined){\r\n         if (window.confirm(`${person.name} is already added to phonebook. Replace the old number with a new one?`)){\r\n            personService\r\n            .update(person.id, personObject)\r\n            .then(updatedPerson => {\r\n               setPersons(persons.map(person => person.id !== updatedPerson.id ? person : updatedPerson))\r\n               resetFormFields()\r\n               newNotification(`Updated ${updatedPerson.name}`, 'success')\r\n            })\r\n            .catch(error => {\r\n               newNotification(`Information of ${person.name} has already been removed from the server`, 'fail')\r\n            })\r\n            return\r\n         }\r\n         return\r\n      }\r\n      \r\n      personService\r\n         .create(personObject)\r\n         .then(returnedPerson => {\r\n            setPersons(persons.concat(returnedPerson))\r\n            resetFormFields()\r\n            newNotification(`Added ${returnedPerson.name}`, 'success')\r\n         })\r\n   }\r\n\r\n   const resetFormFields = () => {\r\n      setNewName('')\r\n      setNewNumber('')\r\n   }\r\n\r\n   const handleDeletePerson = (id) => {\r\n\r\n      if (!window.confirm(\"Are you sure?\")) {\r\n         return\r\n      }\r\n      const personToDelete = persons.find(person => person.id === id)\r\n\r\n      personService\r\n         .deletePerson(id)\r\n         .then( () => {\r\n            setPersons(persons.filter(person => person.id !== id))\r\n            newNotification(`Deleted ${personToDelete.name}`, 'success')\r\n         })\r\n         .catch(error => {\r\n            newNotification(`Couldn't remove ${personToDelete.name}. Person might be deleted already`, 'fail')\r\n         })\r\n   }\r\n\r\n   const handleNameChange = (event) => ( setNewName(event.target.value) )\r\n\r\n   const handleNumberChange = (event) => ( setNewNumber(event.target.value) )\r\n\r\n   const handleFilterChange = (event) => {\r\n      console.log(event.target.value)\r\n      setNewFilter(event.target.value)\r\n      // The hook updates after handler. That's why 'event.target.value'\r\n      event.target.value === \"\" ? setShowAll(true) : setShowAll(false)\r\n   }\r\n\r\n   const newNotification = (message, style, timeoutInMilliseconds=5000) => {\r\n      setNotificationStyle(style)\r\n      setNotificationMessage(message)\r\n      setMessageTimeout(setNotificationMessage, timeoutInMilliseconds)\r\n   }\r\n\r\n   const setMessageTimeout = (messageHandler, timeoutInMilliseconds=5000) => {\r\n      setTimeout( () => {\r\n         messageHandler(null)\r\n      }, timeoutInMilliseconds)\r\n   }\r\n\r\n   return (\r\n      <div>\r\n         <h2>Phonebook</h2>\r\n\r\n         <Filter filterState={newFilter} filterHandler={handleFilterChange} />\r\n\r\n         <h2>add a new</h2>\r\n\r\n         <Notification messageState={notificationMessage} styleState={notificationStyle}/>\r\n\r\n         <PersonForm \r\n            formHandler={handleAddPerson} \r\n            nameState={newName} \r\n            nameHandler={handleNameChange} \r\n            numberState={newNumber}\r\n            numberHandler={handleNumberChange}\r\n         />\r\n\r\n         <h2>Numbers</h2>\r\n\r\n         <Persons persons={persons} \r\n                  showAllState={showAll}\r\n                  filterState={newFilter}\r\n                  deletePersonHandler={handleDeletePerson} />\r\n\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}