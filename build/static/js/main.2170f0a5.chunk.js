(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),l=n.n(o),u=n(2),c=function(e){var t=e.filterState,n=e.filterHandler;return r.a.createElement("div",null," filter shown with ",r.a.createElement("input",{value:t,onChange:n})," ")},i=function(e){var t=e.formHandler,n=e.nameState,a=e.nameHandler,o=e.numberState,l=e.numberHandler;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null," name: ",r.a.createElement("input",{value:n,onChange:a})," "),r.a.createElement("div",null," number: ",r.a.createElement("input",{value:o,onChange:l})," "),r.a.createElement("div",null," ",r.a.createElement("button",{type:"submit"},"add ")," ")))},d=function(e){var t=e.person,n=e.deletePersonHandler;return r.a.createElement("div",null,t.name," ",t.number,r.a.createElement("button",{onClick:function(){return n(t.id)}}," Delete "))},s=function(e){var t=e.persons,n=e.showAllState,a=e.filterState,o=e.deletePersonHandler,l=n?t:t.filter((function(e){return e.name.toUpperCase().includes(a.toUpperCase())}));return r.a.createElement("div",null,l.map((function(e){return r.a.createElement(d,{key:e.name,person:e,deletePersonHandler:o})})))},f=function(e){var t=e.messageState,n=e.styleState,a=void 0===n?"default":n;if(null===t)return null;var o,l={padding:10,margin:10,fontSize:30,borderTopStyle:"solid",borderBottomStyle:"solid",borderWidth:2,borderColor:"green"},u={padding:10,margin:10,fontSize:30,borderTopStyle:"solid",borderBottomStyle:"solid",borderWidth:2,borderColor:"red"},c={padding:10,margin:10,fontSize:30,borderTopStyle:"solid",borderBottomStyle:"solid",borderWidth:2,borderColor:"black"};return r.a.createElement("div",{style:(o=a,"success"===o?l:"fail"===o?u:"default"===o?c:(console.log("You didn't pass valid style, using default style"),c))},t)},m=n(3),b=n.n(m),p="/api/persons/",v=function(){return b.a.get(p).then((function(e){return e.data}))},h=function(e){return b.a.post(p,e).then((function(e){return e.data}))},S=function(e){return b.a.delete("".concat(p).concat(e))},E=function(e,t){return b.a.put("".concat(p).concat(e),t).then((function(e){return e.data}))},g=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)(""),d=Object(u.a)(l,2),m=d[0],b=d[1],p=Object(a.useState)(""),g=Object(u.a)(p,2),y=g[0],j=g[1],O=Object(a.useState)(""),w=Object(u.a)(O,2),H=w[0],C=w[1],k=Object(a.useState)(!0),P=Object(u.a)(k,2),A=P[0],B=P[1],T=Object(a.useState)(null),z=Object(u.a)(T,2),D=z[0],U=z[1],W=Object(a.useState)("default"),J=Object(u.a)(W,2),x=J[0],I=J[1];Object(a.useEffect)((function(){v().then((function(e){o(e)}))}),[]);var N=function(){b(""),j("")},R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;I(t),U(e),Y(U,n)},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;setTimeout((function(){e(null)}),t)};return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(c,{filterState:H,filterHandler:function(e){console.log(e.target.value),C(e.target.value),""===e.target.value?B(!0):B(!1)}}),r.a.createElement("h2",null,"add a new"),r.a.createElement(f,{messageState:D,styleState:x}),r.a.createElement(i,{formHandler:function(e){e.preventDefault();var t={name:m,number:y},a=n.find((function(e){return e.name===m}));if(void 0!==a)return window.confirm("".concat(a.name," is already added to phonebook. Replace the old number with a new one?"))?void E(a.id,t).then((function(e){o(n.map((function(t){return t.id!==e.id?t:e}))),N(),R("Updated ".concat(e.name),"success")})).catch((function(e){R(e.response.data.error,"fail")})):void 0;h(t).then((function(e){o(n.concat(e)),N(),R("Added ".concat(e.name),"success")})).catch((function(e){R("".concat(e.response.data.error),"fail")}))},nameState:m,nameHandler:function(e){return b(e.target.value)},numberState:y,numberHandler:function(e){return j(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(s,{persons:n,showAllState:A,filterState:H,deletePersonHandler:function(e){if(window.confirm("Are you sure?")){var t=n.find((function(t){return t.id===e}));S(e).then((function(){o(n.filter((function(t){return t.id!==e}))),R("Deleted ".concat(t.name),"success")})).catch((function(e){R("Error: ".concat(e.response.data.error),"fail")}))}}}))};l.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.2170f0a5.chunk.js.map